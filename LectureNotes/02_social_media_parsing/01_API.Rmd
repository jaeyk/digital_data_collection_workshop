---
title: "API"
author: "Jae Yeon Kim"
output:
  html_document:
    df_print: paged
    number_sections: yes
    toc: yes
    toc_float: yes
  pdf_document:
    toc: yes
---

# Objectives 

- Learning how to scrape social media data using [application programming interface](https://en.wikipedia.org/wiki/API#:~:text=An%20application%20programming%20interface%20(API,the%20conventions%20to%20follow%2C%20etc.) (API)

**Challenge 1**

In the last session, we learned the difference between semi-structured data and structured data. Can anyone tell us the difference between them?

# The big picture for digital data collection 

1. Input: semi-structured data 

2. Output: structured data 

3. Process: 

    - Getting **target data** from a remote server 
  
    - Parsing this data on your local machine 
  
- But what exactly is this target data?

    - Although HTML (defines a structure of a website), CSS (its style), and JavaScript (its dynamic interactions) are more visible, most web data are stored in either XML or JSON (major formats for storing and transporting data; they are light and flexible).
    
    - If HTML, CSS, and JavaScript are storefronts, then XML and JSON are warehouses. 
    
     - XML and JSON have tree-like (nested; a root and branches) structures and keys and values (or elements and attributes).

![](https://upload.wikimedia.org/wikipedia/commons/9/97/Automatisches_Kleinteilelager.jpg)

# Social media data 

This explanation draws on Benoit's and Tsvetkova's [LSE MY472 Data for Data Scientists](https://lse-my472.github.io/week10/MY472-week10.pdf).

**Upside**

- They have well-documented APIs.

Web scraping (Wild Wild West) <> API (Big Gated Garden)

- What is an API?: An interface (you can think of it as something akin to restaurant menu.)
    - [RESTful](https://en.wikipedia.org/wiki/Representational_state_transfer) (Representational state transfer) API: static information (e.g., user profiles, list of followers and friends)
        - R packages: tweetscores, twitteR, rtweet
    - [Streaming API](https://blog.axway.com/amplify/api-management/streaming-apis#:~:text=Streaming%20APIs%20are%20used%20to,a%20subset%20of%20Streaming%20APIS.): dynamic information (e..g, new tweets) Strong industry interest in this type of API.
       - This streaming data is filtered by (1) keywords, (2) location, and (3) sample (1% of the total tweets)
       - R packages: [streamR](https://github.com/pablobarbera/streamR)
    
- What does it mean? You have legal but limited access to (growing) big data that can be divided into text, image, and video and transformed into cross-sectional (geocodes), longitudinal (timestamps), and event historical data (hashtags). For more information, see Zachary C. Steinert-Threlkeld's [2020 APSA Short Course Generating Event Data From Social Media](https://github.com/ZacharyST/APSA2020_EventDataFromSocialMedia).

- It's also well-organized, managed, and curated data. XML and JSON have keys and values. That means keys organize observations. 

**Downside**

1. Rate-limited.

2. You need to pay for premium access.

3. Access varies by APIs: 

    - Twitter API is still widely accessible ([v2](https://developer.twitter.com/en/docs/twitter-api/early-access) recently released). 
    
    - Facebook API access has become much constrained with [the exception of Social Science One](https://socialscience.one/blog/unprecedented-facebook-urls-dataset-now-available-research-through-social-science-one) since the 2016 U.S. election.
    
    - [YouTube API](https://developers.google.com/youtube/v3) access is somewhat limited (but you need to check as I'm not updated on this).

# How to access Twitter API?

